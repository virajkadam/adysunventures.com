# Cache-Control Headers for Static Assets

# Images
location ~* \.(?:jpg|jpeg|png|gif|webp|svg|ico)$ {
  expires 31536000s;
  add_header Cache-Control "public";
}

# LCP image gets special treatment
location ~* home-section-bg.*\.(?:jpg|webp)$ {
  expires 31536000s;
  add_header Cache-Control "public, max-age=31536000, immutable";
}

# CSS files
location ~* \.css$ {
  expires 2592000s;
  add_header Cache-Control "public";
}

# JavaScript files
location ~* \.js$ {
  expires 604800s;
  add_header Cache-Control "public";
}

# Fonts
location ~* \.(?:ttf|otf|woff|woff2)$ {
  expires 31536000s;
  add_header Cache-Control "public";
}

# HTML files should not be cached
location ~* \.(?:html|htm)$ {
  add_header Cache-Control "no-cache, no-store, must-revalidate";
  add_header Pragma "no-cache";
  expires 0;
}

# Enable Gzip compression
gzip on;
gzip_types text/plain text/css application/javascript application/json text/xml application/xml text/javascript;
gzip_min_length 256;
gzip_comp_level 6;
